# ๐ค Bitrix24 Telegram Bot

<div align="center">

![Python](https://img.shields.io/badge/Python-3.8+-blue?logo=python&logoColor=white)
![Aiogram](https://img.shields.io/badge/Aiogram-3.x-green?logo=telegram&logoColor=white)
![Bitrix24](https://img.shields.io/badge/Bitrix24-API-orange?logo=bitrix&logoColor=white)
![Telegram](https://img.shields.io/badge/Telegram-Bot-blue?logo=telegram&logoColor=white)

**ะะพัะฝัะน Telegram ะฑะพั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ ะฒ Bitrix24**

[ะัะพะฑะตะฝะฝะพััะธ](#-ะพัะพะฑะตะฝะฝะพััะธ) โข [ะฃััะฐะฝะพะฒะบะฐ](#-ัััะฐะฝะพะฒะบะฐ) โข [ะัะฟะพะปัะทะพะฒะฐะฝะธะต](#-ะธัะฟะพะปัะทะพะฒะฐะฝะธะต) โข [ะะพะผะฐะฝะดั](#-ะบะพะผะฐะฝะดั)

</div>

## ๐ ะ ะฟัะพะตะบัะต

ะญัะพั Telegram ะฑะพั ะฟะพะทะฒะพะปัะตั ัะดะพะฑะฝะพ ัะฐะฑะพัะฐัั ั ะทะฐะดะฐัะฐะผะธ ะฒ Bitrix24 ะฟััะผะพ ะธะท Telegram! ะกะพะทะดะฐะฒะฐะนัะต ะทะฐะดะฐัะธ, ะฟัะพัะผะฐััะธะฒะฐะนัะต ะฟัะพะตะบัั ะธ ัะฟัะฐะฒะปัะนัะต workflow ะฑะตะท ะฝะตะพะฑัะพะดะธะผะพััะธ ะทะฐัะพะดะธัั ะฒ Bitrix24.

### ๐ฏ ะะพะทะผะพะถะฝะพััะธ

- โ **ะกะพะทะดะฐะฝะธะต ะทะฐะดะฐั** ัะตัะตะท ะดะธะฐะปะพะณ ะธะปะธ ะฑัััััะต ะบะพะผะฐะฝะดั
- ๐ **ะัะพัะผะพัั ะทะฐะดะฐั** ั ะดะตัะฐะปัะฝะพะน ะธะฝัะพัะผะฐัะธะตะน
- ๐ฅ **ะฃะฟัะฐะฒะปะตะฝะธะต ะธัะฟะพะปะฝะธัะตะปัะผะธ** ะธ ะฟัะพะตะบัะฐะผะธ
- ๐ **ะััััะพะต ัะพะทะดะฐะฝะธะต** ะทะฐะดะฐั ะฒ ะพะดะฝะพ ัะพะพะฑัะตะฝะธะต
- ๐ **ะะตะฐะปัะฝะพะต ะฒัะตะผั** - ะผะณะฝะพะฒะตะฝะฝะฐั ัะธะฝััะพะฝะธะทะฐัะธั ั Bitrix24

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
โ   Telegram  โโโโโโ   Python    โโโโโโ   Bitrix24  โ
โ     Bot     โ    โ   Aiogram   โ    โ    REST     โ
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ
                         โ                    โ
                 โโโโโโโโโดโโโโโโโโ            โ
             โโโโโดโโโโ       โโโโโดโโโโ    โโโโโดโโโโ
             โHandlersโ       โServicesโ    โ  ะะฐะทะฐ  โ
             โโโโโโโโโ       โโโโโโโโโ    โ ะดะฐะฝะฝัั โ
                                          โโโโโโโโโโ
```

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ะธ ะฝะฐัััะพะนะบะฐ

```bash
# ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน
git clone <your-repo-url>
cd bitrixPublic

# ะกะพะทะดะฐะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate  # Windows

# ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt
```

### 2. ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั

ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:

```env
BOT_TOKEN=your_telegram_bot_token_here
BITRIX_URL=https://your-company.bitrix24.ru/rest/1/your_secret_key/
```

### 3. ะะพะปััะตะฝะธะต ะบะปััะตะน

#### ๐ Telegram Bot Token:
1. ะะฐะฟะธัะธัะต [@BotFather](https://t.me/BotFather) ะฒ Telegram
2. ะัะฟะพะปัะทัะนัะต ะบะพะผะฐะฝะดั `/newbot`
3. ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ ะธ ะฟะพะปััะธัะต ัะพะบะตะฝ

#### ๐ Bitrix24 REST API:
1. ะะฐะนะดะธัะต ะฒ ะฒะฐั Bitrix24 ะฟะพััะฐะป
2. ะะตัะตะนะดะธัะต ะฒ **ะะฐัััะพะนะบะธ** โ **ะะฐะทัะฐะฑะพััะธะบะฐะผ** โ **REST API**
3. ะกะพะทะดะฐะนัะต ะฝะพะฒะพะต ะฟัะธะปะพะถะตะฝะธะต ะธ ะฟะพะปััะธัะต URL

### 4. ะะฐะฟััะบ

```bash
python main.py
```

## ๐ฎ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ๐ฌ ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั

| ะะพะผะฐะฝะดะฐ | ะะฟะธัะฐะฝะธะต | ะัะธะผะตั |
|---------|-----------|---------|
| `/start` | ะะฐัะฐะปะพ ัะฐะฑะพัั | `/start` |
| `/help` | ะะพะผะพัั ะธ ะธะฝััััะบัะธะธ | `/help` |
| `/task` | ะกะพะทะดะฐัั ะทะฐะดะฐัั (ะดะธะฐะปะพะณ) | `/task` |
| `/projects` | ะกะฟะธัะพะบ ะฟัะพะตะบัะพะฒ | `/projects` |
| `/users` | ะกะฟะธัะพะบ ะฟะพะปัะทะพะฒะฐัะตะปะตะน | `/users` |
| `/gettasks` | ะกะฟะธัะพะบ ะทะฐะดะฐั | `/gettasks 5` |

### โก ะััััะพะต ัะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ

ะัะฟัะฐะฒััะต ัะพะพะฑัะตะฝะธะต ะฒ ัะพัะผะฐัะต:

```
ะทะฐะดะฐัะฐ
#1 ะะฐะทะฒะฐะฝะธะต ะทะฐะดะฐัะธ
#2 ะะฟะธัะฐะฝะธะต ะทะฐะดะฐัะธ
#3 ID ะธัะฟะพะปะฝะธัะตะปั
#4 ID ะฟัะพะตะบัะฐ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
```

ะะปะธ ะฒ ะพะดะฝั ัััะพะบั:
```
ะฟะพััะฐะฒะธัั ะทะฐะดะฐัั #1 ะะฐะทะฒะฐะฝะธะต #2 ะะฟะธัะฐะฝะธะต #3 123 #4 456
```

## ๐ ะัะธะผะตัั ัะฐะฑะพัั

### ะกะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ ัะตัะตะท ะดะธะฐะปะพะณ:
```
๐ค ะั: /task
๐ค ะะพั: ๐ฏ ะะฐัะธะฝะฐะตะผ ัะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ. ะะฒะตะดะธัะต ะฝะฐะทะฒะฐะฝะธะต ะทะฐะดะฐัะธ:
๐ค ะั: ะะฐะทัะฐะฑะพัะฐัั ะฝะพะฒัะน ััะฝะบัะธะพะฝะฐะป
๐ค ะะพั: ๐ ะขะตะฟะตัั ะฒะฒะตะดะธัะต ะพะฟะธัะฐะฝะธะต ะทะฐะดะฐัะธ:
๐ค ะั: ะัะถะฝะพ ะดะพะฑะฐะฒะธัั ะผะพะดัะปั ะฐะฝะฐะปะธัะธะบะธ ะฒ ะฟะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั
๐ค ะะพั: โ ะะฐะดะฐัะฐ ััะฟะตัะฝะพ ัะพะทะดะฐะฝะฐ! ID: 157
```

### ะััััะพะต ัะพะทะดะฐะฝะธะต:
```
๐ค ะั: ะทะฐะดะฐัะฐ #1 ะขะตััะพะฒะฐั ะทะฐะดะฐัะฐ #2 ะัะพะฒะตัะธัั ัะฐะฑะพัั ะฑะพัะฐ #3 45
๐ค ะะพั: โ ะะฐะดะฐัะฐ ััะฟะตัะฝะพ ัะพะทะดะฐะฝะฐ!
๐ ะะฐะทะฒะฐะฝะธะต: ะขะตััะพะฒะฐั ะทะฐะดะฐัะฐ
๐ค ะัะฟะพะปะฝะธัะตะปั: 45
๐ ID ะทะฐะดะฐัะธ ะฒ Bitrix: 158
```

## ๐๏ธ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
bitrixPublic/
โโโ ๐ handlers/          # ะะฑัะฐะฑะพััะธะบะธ ัะพะพะฑัะตะฝะธะน
โ   โโโ commands.py       # ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั
โ   โโโ task_creation.py  # ะกะพะทะดะฐะฝะธะต ะทะฐะดะฐั
โ   โโโ quick_tasks.py    # ะัััััะต ะบะพะผะฐะฝะดั
โโโ ๐ services/          # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ bitrix_client.py  # ะะปะธะตะฝั Bitrix24 API
โ   โโโ task_formatter.py # ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะทะฐะดะฐั
โโโ ๐ models/            # ะะพะดะตะปะธ ะดะฐะฝะฝัั
โ   โโโ states.py         # ะกะพััะพัะฝะธั FSM
โโโ ๐ utils/             # ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ
โ   โโโ helpers.py        # ะฃัะธะปะธัั
โโโ config.py             # ะะพะฝัะธะณััะฐัะธั
โโโ main.py               # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ requirements.txt      # ะะฐะฒะธัะธะผะพััะธ
```

## ๐ง ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ๐๏ธ ะขะตัะฝะพะปะพะณะธะธ

| ะขะตัะฝะพะปะพะณะธั | ะะฐะทะฝะฐัะตะฝะธะต | ะะตััะธั |
|------------|------------|---------|
| **Python** | ะัะฝะพะฒะฝะพะน ัะทัะบ | 3.8+ |
| **Aiogram** | Telegram Bot Framework | 3.x |
| **Requests** | HTTP ะทะฐะฟัะพัั ะบ Bitrix24 | 2.31+ |
| **Python-dotenv** | ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะตัะตะผะตะฝะฝัะผะธ ะพะบััะถะตะฝะธั | 1.0+ |

### ๐ ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะผะตัะพะดั Bitrix24

- โ `tasks.task.add` - ัะพะทะดะฐะฝะธะต ะทะฐะดะฐั
- โ `tasks.task.list` - ัะฟะธัะพะบ ะทะฐะดะฐั  
- โ `tasks.task.get` - ะฟะพะปััะตะฝะธะต ะทะฐะดะฐัะธ
- โ `user.get` - ัะฟะธัะพะบ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- โ `sonet_group.get` - ัะฟะธัะพะบ ะฟัะพะตะบัะพะฒ

## ๐ ะัะพะฑะตะฝะฝะพััะธ

### โจ ะฃะดะพะฑะฝัะน ะธะฝัะตััะตะนั
- ะะฝััะธัะธะฒะฝัะต ะบะพะผะฐะฝะดั
- ะะพะดัะบะฐะทะบะธ ะธ ะผะตะฝั
- ะัััััะต ะพัะฒะตัั

### ๐ ะะตะทะพะฟะฐัะฝะพััั
- ะะฐะปะธะดะฐัะธั ะฒะฒะพะดะธะผัั ะดะฐะฝะฝัั
- ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- ะะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต ัะพะบะตะฝะพะฒ

### โก ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั  
- ะัะธะฝััะพะฝะฝัะต ะพะฟะตัะฐัะธะธ
- ะััะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะพะฒ
- ะะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะต API ะฒัะทะพะฒั

## ๐ ะัะปะฐะดะบะฐ ะธ ะปะพะณะธ

ะะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะปะพะณะธััะตั ะฒัะต ะพะฟะตัะฐัะธะธ:

```python
# ะัะธะผะตั ะปะพะณะฐ
2024-01-15 12:00:00 INFO - ๐ ะะฐะฟััะบ ะฑะพัะฐ...
2024-01-15 12:00:01 INFO - โ ะะพะดะบะปััะตะฝะธะต ะบ Bitrix24 ัััะฐะฝะพะฒะปะตะฝะพ
2024-01-15 12:00:05 INFO - โ ะะฐะดะฐัะฐ ััะฟะตัะฝะพ ัะพะทะดะฐะฝะฐ (ID: 123)
```

## ๐ค ะะฐะทัะฐะฑะพัะบะฐ

### ะขัะตะฑะพะฒะฐะฝะธั ะบ ะพะบััะถะตะฝะธั:
- Python 3.8 ะธะปะธ ะฒััะต
- ะะพัััะฟ ะบ Bitrix24 ั REST API
- Telegram Bot Token

### ะะฐะฟััะบ ะดะปั ัะฐะทัะฐะฑะพัะบะธ:

```bash
# ะะบัะธะฒะธััะนัะต venv
source venv/bin/activate

# ะะฐะฟัััะธัะต ะฑะพัะฐ
python main.py
```

## โ ะงะฐัััะต ะฒะพะฟัะพัั

**Q: ะะพั ะฝะต ะพัะฒะตัะฐะตั ะฝะฐ ะบะพะผะฐะฝะดั**
A: ะัะพะฒะตัััะต, ััะพ BOT_TOKEN ะฒ .env ัะฐะนะปะต ัะบะฐะทะฐะฝ ะฟัะฐะฒะธะปัะฝะพ

**Q: ะัะธะฑะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ Bitrix24**
A: ะฃะฑะตะดะธัะตัั, ััะพ BITRIX_URL ะบะพััะตะบัะตะฝ ะธ ะตััั ะดะพัััะฟ ะบ REST API

**Q: ะะต ัะพะทะดะฐัััั ะทะฐะดะฐัะธ**
A: ะัะพะฒะตัััะต ะฟัะฐะฒะฐ ะดะพัััะฟะฐ ะฒ Bitrix24 ะธ ะบะพััะตะบัะฝะพััั ID ะธัะฟะพะปะฝะธัะตะปั

## ๐ ะะธัะตะฝะทะธั

ะญัะพั ะฟัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน MIT.

## ๐จโ๐ป ะะฒัะพั

**ะะธัะฐะธะป** 

ะะฐะทัะฐะฑะพัะฐะฝะพ ั โค๏ธ ะดะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ัะฐะฑะพัะธั ะฟัะพัะตััะพะฒ

๐ซ **ะกะฒัะทะฐัััั ัะพ ะผะฝะพะน:**

- Telegram: [@Mihaildenisenko](https://t.me/Mihaildenisenko)

---

<div align="center">

**โญ ะัะปะธ ััะพั ะฟัะพะตะบั ะฒะฐะผ ะฟะพะผะพะณ, ะฟะพััะฐะฒััะต ะทะฒะตะทะดะพัะบั!**

*ะะปั ะฒะพะฟัะพัะพะฒ ะธ ะฟัะตะดะปะพะถะตะฝะธะน: ัะพะทะดะฐะนัะต issue ะฒ ัะตะฟะพะทะธัะพัะธะธ*

</div>
